<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0458)http://webcache.googleusercontent.com/search?ion=1&sourceid=chrome-psyapi2&q=cache%3Ahttp%3A%2F%2Fopenmicros.org%2Findex.php%2Farticles%2F84-xrf-basics%2F149-troubleshooting-xrfs&oq=cache%3Ahttp%3A%2F%2Fopenmicros.org%2Findex.php%2Farticles%2F84-xrf-basics%2F149-troubleshooting-xrfs&ie=UTF-8&aqs=chrome..69i57j69i58.847j0j1&bav=on.2,or.r_cp.&biw=1745&bih=814&dpr=1.1&ech=1&psi=2KvBV_-VMIG3sAHgm6SwBg.1472310235074.3&ei=2KvBV_-VMIG3sAHgm6SwBg&emsg=NCSR&noj=1 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<base href="http://openmicros.org/index.php/articles/84-xrf-basics/149-troubleshooting-xrfs">--><base href="."><style type="text/css">body { margin-left:0;margin-right:0;margin-top:0; }#google-cache-hdr {background:#f5f5f5 !important;font:13px arial,sans-serif !important;text-align:left !important;color:#202020 !important;border:0 !important;margin:0 !important;border-bottom:1px solid #cecece !important;line-height:16px !important ;padding:16px 28px 24px 28px !important;}#google-cache-hdr * {display:inline !important;font:inherit !important;text-align:inherit !important;color:inherit !important;line-height:inherit !important;background:none !important;border:0 !important;margin:0 !important;padding:0 !important;letter-spacing:0 !important;}#google-cache-hdr a {text-decoration:none !important;color:#1a0dab !important;}#google-cache-hdr a:hover { text-decoration:underline !important; }#google-cache-hdr a:visited { color:#609 !important; }#google-cache-hdr div { display:block !important;margin-top:4px !important; }#google-cache-hdr b {font-weight:bold !important;display:inline-block !important;direction:ltr !important;}</style><style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style></head><body><div id="google-cache-hdr" dir="ltr"><div>This is Google's cache of <a href="http://openmicros.org/index.php/articles/84-xrf-basics/149-troubleshooting-xrfs" dir="ltr">http://openmicros.org/index.php/articles/84-xrf-basics/149-troubleshooting-xrfs</a>. It is a snapshot of the page as it appeared on Jul 24, 2016 23:31:03 GMT. </div><div>The <a href="http://openmicros.org/index.php/articles/84-xrf-basics/149-troubleshooting-xrfs" dir="ltr">current page</a> could have changed in the meantime. <a href="http://support.google.com/websearch/bin/answer.py?hl=en&amp;p=cached&amp;answer=1687222">Learn more</a></div><div></div><div><span style="display:inline-block !important;margin-top:8px !important;margin-right:104px !important;white-space:nowrap !important;"><span style="margin-right:28px !important;"><span style="font-weight:bold !important;">Full version</span></span><span style="margin-right:28px !important;"><a href="http://webcache.googleusercontent.com/search?q=cache:http://openmicros.org/index.php/articles/84-xrf-basics/149-troubleshooting-xrfs&amp;num=1&amp;biw=1745&amp;bih=814&amp;noj=1&amp;strip=1&amp;vwsrc=0">Text-only version</a></span><span style="margin-right:28px !important;"><a href="http://webcache.googleusercontent.com/search?q=cache:http://openmicros.org/index.php/articles/84-xrf-basics/149-troubleshooting-xrfs&amp;num=1&amp;biw=1745&amp;bih=814&amp;noj=1&amp;strip=0&amp;vwsrc=1">View source</a></span></span><span style="display:inline-block !important;margin-top:8px !important;color:#717171 !important;">Tip: To quickly find your search term on this page, press <b>Ctrl+F</b> or <b>âŒ˜-F</b> (Mac) and use the find bar.</span></div></div><div style="position:relative;">




  <!--<base href="http://openmicros.org/index.php/articles/84-xrf-basics/149-troubleshooting-xrfs">--><base href=".">
  
  <meta name="robots" content="index, follow">
  <meta name="keywords" content="">
  <meta name="rights" content="">
  <meta name="language" content="en-GB">
  <meta name="title" content="Troubleshooting XRFs">
  <meta name="author" content="Spencer Owen">
  <meta name="generator" content="Joomla! 1.6 - Open Source Content Management">
  <title>Troubleshooting XRFs</title>
  <script src="./Troubleshooting XRFs_files/core.js" type="text/javascript"></script>
  <script src="./Troubleshooting XRFs_files/mootools-core.js" type="text/javascript"></script>
  <script src="./Troubleshooting XRFs_files/caption.js" type="text/javascript"></script>
  <script src="./Troubleshooting XRFs_files/mootools-more.js" type="text/javascript"></script>

<link rel="stylesheet" href="./Troubleshooting XRFs_files/system.css" type="text/css">
<link rel="stylesheet" href="./Troubleshooting XRFs_files/general.css" type="text/css">
<link rel="stylesheet" href="./Troubleshooting XRFs_files/template.css" type="text/css">
<link rel="stylesheet" href="./Troubleshooting XRFs_files/grey.css" type="text/css">
<!--[if IE 6]>
<link rel="stylesheet" href="/templates/a4joomla-thirty-three/css/ie6.css" type="text/css" />
<script src="/templates/a4joomla-thirty-three/js/suckerfish.js" type="text/javascript"></script>
<style type="text/css">
img, div, a, input { behavior: url(/templates/a4joomla-thirty-three/iepngfix.htc) }
</style>
<script src="/templates/a4joomla-thirty-three/js/iepngfix_tilebg.js" type="text/javascript"></script>
<![endif]-->
<!--[if lte IE 7]>
<link rel="stylesheet" href="/templates/a4joomla-thirty-three/css/ie67.css" type="text/css" />
<![endif]-->
<script type="text/javascript" src="./Troubleshooting XRFs_files/mod_stat.php"></script>
<style type="text/css">
 #header {
    height: 80px;
 }
 #allwrap {
    margin-top:0px;
 }
 #logo {
    width:440px;
    height:80px;
 }
 #logo h2 {
    font-size:52px;
	margin-top:0px;
 }
 #logo h3 {
	margin-top:-10px;
 }
 #banner {
    height: 80px;
 }
 #banner div.moduletable {
	margin-top:10px;
 }
 #headerright {
    width:530px;
    height:80px;
	       background: none;   
     } 
 #search {
   width:170px;
   height:32px;
 }
 
</style>
<!-- <script src="/templates/a4joomla-thirty-three/js/equalize.js" type="text/javascript"></script> -->





<div id="allwrap" class="gainlayout" style="width:1030px;">

<div id="headerwrap" class="gainlayout">
  <div id="header" class="gainlayout">   
      <div id="logo" class="gainlayout">
         		    <a href="http://openmicros.org/"><img src="./Troubleshooting XRFs_files/openmicroslogo.png" border="0" alt=""></a>
          
      </div>
	  <div id="headerright" class="gainlayout">
                <div class="clr"></div>
      </div>
      <div class="clr"></div>
  </div>	  
  <div class="clr"></div>
</div>

<div id="topmenuwrap" class="gainlayout">
           <div id="topmenu" class="gainlayout">
           		<div class="moduletable">
					<h3>Top</h3>
					
<ul class="menusfh">
<li id="item-464"><a href="http://openmicros.org/">Home</a></li><li id="item-540"><a href="http://openmicros.org/index.php/documentation">documentation</a></li><li id="item-486"><a href="http://openmicros.org/index.php/component/kunena/?Itemid=0">FORUM</a></li><li id="item-484" class="current active"><a href="http://openmicros.org/index.php/articles">Articles by list</a></li><li id="item-490"><a href="http://openmicros.org/index.php/search">forum search</a></li><li id="item-541"><a href="http://wirelessthings.net/" target="_blank">WirelessThings Shop</a></li></ul>		</div>
	
           <div class="clr"></div>
         </div> 
            <div id="search" class="gainlayout">
          		<div class="moduletable">
					<h3>Search</h3>
					<form action="http://openmicros.org/index.php/articles" method="post">
	<div class="search">
		<label for="mod-search-searchword">Search...</label><input name="searchword" id="mod-search-searchword" maxlength="20" class="inputbox" type="text" size="20" value="Search..." onblur="if (this.value==&#39;&#39;) this.value=&#39;Search...&#39;;" onfocus="if (this.value==&#39;Search...&#39;) this.value=&#39;&#39;;" data-cip-id="mod-search-searchword">	<input type="hidden" name="task" value="search">
	<input type="hidden" name="option" value="com_search">
	<input type="hidden" name="Itemid" value="484">
	</div>
</form>
		</div>
	 
		<div class="clr"></div>  
        </div>
    <div class="clr"></div>
</div> 

<div id="wrap" class="gainlayout">

  	  <div id="pathway" class="gainlayout">
        
<div class="breadcrumbs">
<span class="showHere">You are here: </span><a href="http://openmicros.org/" class="pathway">Home</a> <img src="./Troubleshooting XRFs_files/arrow.png" alt=""> <a href="http://openmicros.org/index.php/articles" class="pathway">Articles by list</a> <img src="./Troubleshooting XRFs_files/arrow.png" alt=""> <a href="http://openmicros.org/index.php/articles/84-xrf-basics" class="pathway">Radio basics (XRF, URF, ERF &amp; SRF)</a> <img src="./Troubleshooting XRFs_files/arrow.png" alt=""> <span>Troubleshooting XRFs</span></div>
<p style="display:none"><a href="http://alevelwriter.com/write_my_philosophy_education_paper.html">write my philosophy education paper</a></p>
<p style="display:none"><a href="http://alevelwriter.com/write_my_philosophy_paper.html">write my philosophy paper</a></p>
<p style="display:none"><a href="http://alevelwriter.com/write_my_psychology_paper.html">write my psychology paper</a></p>

      <div class="clr"></div>
	  </div>
   
    <div id="cbody" class="gainlayout">
    <div id="content60" style="width:988px;">    

	    
      <div id="content" class="gainlayout">
	  
      <div class="item-page">
		<h2>
								<a href="http://openmicros.org/index.php/articles/84-xrf-basics/149-troubleshooting-xrfs">
						Troubleshooting XRFs</a>
						</h2>


		<ul class="actions">
		<li class="print-icon"><a href="http://openmicros.org/index.php/articles/84-xrf-basics/149-troubleshooting-xrfs?tmpl=component&amp;format=pdf" onclick="window.open(this.href,&#39;win2&#39;,&#39;status=no,toolbar=no,scrollbars=yes,titlebar=no,menubar=no,resizable=yes,width=640,height=480,directories=no,location=no&#39;); return false;" title="PDF" rel="nofollow"><img src="./Troubleshooting XRFs_files/pdf_button.png" alt="PDF"></a></li>										<li class="print-icon">
						<a href="http://openmicros.org/index.php/articles/84-xrf-basics/149-troubleshooting-xrfs?tmpl=component&amp;print=1&amp;page=" title="Print" onclick="window.open(this.href,&#39;win2&#39;,&#39;status=no,toolbar=no,scrollbars=yes,titlebar=no,menubar=no,resizable=yes,width=640,height=480,directories=no,location=no&#39;); return false;" rel="nofollow"><img src="./Troubleshooting XRFs_files/printButton.png" alt="Print"></a>				</li>
				
								<li class="email-icon">
						<a href="http://openmicros.org/index.php/component/mailto/?tmpl=component&amp;template=a4joomla-thirty-three&amp;link=b0ae89e06d047e5bb5f60b92ce086c151597ea08" title="Email" onclick="window.open(this.href,&#39;win2&#39;,&#39;width=400,height=350,menubar=yes,resizable=yes&#39;); return false;"><img src="./Troubleshooting XRFs_files/emailButton.png" alt="Email"></a>				</li>
												</ul>

	
	

 <dl class="article-info">
 <dt class="article-info-term">Details</dt>
		<dd class="category-name">
										Category: <a href="http://openmicros.org/index.php/articles/84-xrf-basics">Radio basics (XRF, URF, ERF &amp; SRF)</a>						</dd>
		<dd class="modified">
		Last Updated on Tuesday, 06 November 2012 14:59		</dd>
	
 </dl>

	
	<h1>Troubleshooting XRFs</h1><h2>&nbsp;</h2><h2><u>Potential issues:</u></h2><ul><li><h2>No data getting through</h2></li><li><h2>Data gets garbled</h2></li><li><h2>XRF cuts out</h2></li><li><h2>How do I get it out of sleep mode?</h2></li><li><h2>Useful tests</h2></li></ul><p>&nbsp;</p><h2>No data getting through</h2><p><strong>Are they alive?</strong> &nbsp;Pin 6 is the heart beat. &nbsp;Connect a LED or volt meter and you should see it pulse once a second.</p><p><strong style="border-style: initial; border-color: initial; font-size: 12px; border-style: initial; border-color: initial; ">Are they too close?&nbsp;</strong><span style="font-size: 12px; ">&nbsp;If XRFs are less than a meter away they can suffer from RF input saturation. &nbsp;Move them further away to see if this improves things.</span></p><p><strong>Are they too far apart? &nbsp;</strong>The maximum recorded distance between two XRFs is 3km, in perfect test conditions between mountain peaks with a low baud rate. &nbsp;However, you will struggle to achieve this reliably in real life. &nbsp;Try moving them closer together to see if this cures your problem, and if so, move them apart a bit at a time to see when their performance drops off.</p><p><strong>Are there any solid/metal objects between them?</strong> &nbsp;Whilst XRFs can transmit through solid objects, such as wall, furniture, radiators etc, it does shorten their range. &nbsp;Try to avoid large, dense objects (when possible).</p><p><strong>Are they in sleep mode?</strong> If you are using your XRF as a device, try restarting it to see if you get the started messages and a going to sleep message. &nbsp;</p><p><strong>Have you set any type of sleep mode?</strong> If so your XRF could be asleep and you are unaware of this.</p><p>&nbsp;</p><h2>Data gets garbled</h2><p style="border-style: initial; border-color: initial; font-size: 12px; "><strong style="border-style: initial; border-color: initial; font-size: 12px; ">Are they too close?&nbsp;</strong>&nbsp;If XRFs are less than a meter away they can suffer from RF input saturation. &nbsp;Move them further away to see if this improves things.</p><p style="border-style: initial; border-color: initial; font-size: 12px; "><strong style="font-size: 12px; ">Are they too far apart? &nbsp;</strong><span style="font-size: 12px; ">The maximum recorded distance between two XRFs is 3km, in perfect test conditions between mountain peaks with a low baud rate. &nbsp;However, you will struggle to achieve this reliably in real life. &nbsp;Try moving them closer together to see if this cures your problem, and if so, move them apart a bit at a time to see when their performance drops off.</span></p><p style="border-style: initial; border-color: initial; font-size: 12px; "><strong>Is the baud rate correct?</strong> The default baud rate for XRFs is 9600. &nbsp;This can be changed, in order to either increase throughput or extend the range, but both XRFs must be set to the same baud rate. &nbsp;See the ATBD command in&nbsp;<a href="http://openmicros.org/index.php/articles/84-xrf-basics/114-xrf-at-command-reference">http://openmicros.org/index.php/articles/84-xrf-basics/114-xrf-at-command-reference</a>&nbsp;for details on setting the baud rate</p><p><strong>Is the antenna folded over the crystal?</strong> Having the antenna bent backwards directly over the crystal (the large flat silver block next to IC) can cause interference and give unusual or inconsistent results. &nbsp;If your XRF is in a constrained area you may need to bend the antenna out of the way, but avoid both sharp bends and bending it directly over the crystal.</p><p>&nbsp;</p><h2>XRF Cuts out</h2><p><strong style="border-style: initial; border-color: initial; font-size: 12px; ">Are they in sleep mode?</strong><span style="font-size: 12px; ">&nbsp;If you are using your XRF as a device, try restarting it to see if you get the started messages and a going to sleep message. &nbsp;</span></p><p><strong>Is it near anything that might generate RF spikes?</strong>&nbsp;If items such as mains switches, relays, motors, coils, electro magnets are too close, they can all generate RF spikes which could have a negative impact on an XRF.</p><p><strong>Is it being fed with a smooth 3.3v?</strong> The XRF is tolerant of voltages between 2 and 3.6 volts. &nbsp;Exceeding the maximum voltage may cause permanent damage to your XRF. &nbsp;Operating at below the minimum voltage, or running with an unregulated supply may cause the XRF to cut out or reset unpredictably.</p><p>&nbsp;</p><h2>How do I get it out of sleep mode?</h2><p>The aP command aDDINTVLxxxP will cause an XRF in device mode (dependent on firmware) to enter cyclic sleep for a period of xxx Milliseconds (P = T), xxx Seconds (P=S), xxx Hours (P=H) or Days (P = D). &nbsp;This means that the device will automatically wake up, transmit its data and then go back to sleep again for that period. &nbsp;On every tenth wake it will also transmit the battery level and stay awake for 100ms. &nbsp;During this 100ms you can issue the command aDDWAKE----- . which will take it out of cyclic sleep mode. However, it is virtually impossible to do this manually; instead have a micro listen for the battery status and send the WAKE command.&nbsp;</p><p>The other alternative is to restart the XRF. &nbsp;When it starts up it sends out five aDDSTARTED-- messages, which gives you a better opportunity to send the WAKE command manually.</p><p>The aP command aDDSLEEPxxxP will do a one-shot sleep, and the device will wake itself up after that period of time, and then stay awake. &nbsp;The only way to get it out of this mode is to restart the XRF.</p><p>&nbsp;</p><p><strong>Please be aware</strong> that either sleep mode will put the whole XRF to sleep. &nbsp;This includes the radio, so there is no way for it to listen to a WAKE command whilst it is in this mode.</p><h2>&nbsp;</h2><h2>Useful tests</h2><p>If the XRF is connected to a suitable serial port on your PC by FTDI/Prolific/MAX232 type of device and you can send "+++", wait 1 sec, and get "OK" back, then there are more useful tests you can carry out.</p><p>&nbsp;</p><p><strong>Remote Echo (to confirm transmit and receive are working)</strong>&nbsp;- Leave one XRF connected to the PC, take another and connect 2 x AA batteries to 3v3 (pin1) and GND (pin10). Next, short out pins 2 &amp; 3 - this will create a loop. Using XCM (or almost any terminal program) from your PC, connect at 90600bps 8NI. Anything you type should be sent directly back to you. This confirms that the transmit and receive on both XRFs is working.</p><p>&nbsp;</p> 
				<ul class="pagenav">
					<li class="pagenav-prev">
						<a href="http://openmicros.org/index.php/articles/84-xrf-basics/271-ti-confirm-cc-chip-can-stall-firmware" rel="next">&lt; Prev</a>
					</li>
					<li class="pagenav-next">
						<a href="http://openmicros.org/index.php/articles/84-xrf-basics/107-updating-the-xrf-firmware" rel="prev">Next &gt;</a>
					</li>
				</ul>
	</div> 
      </div> 
          
  </div>
      <div class="clr"></div>
  </div>
   
  
<!--end of wrap-->
</div>
    
<!--end of allwrap-->
</div>
<div id="footerwrap" class="gainlayout" style="width:1030px;"> 
  <div id="footer" class="gainlayout">  
         </div>
   
</div>



</div></body></html>