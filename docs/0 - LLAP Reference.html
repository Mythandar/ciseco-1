<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0510)http://webcache.googleusercontent.com/search?ion=1&sourceid=chrome-psyapi2&q=cache%3Ahttp%3A%2F%2Fopenmicros.org%2Findex.php%2Farticles%2F85-llap-lightweight-local-automation-protocol%2F297-llap-reference&oq=cache%3Ahttp%3A%2F%2Fopenmicros.org%2Findex.php%2Farticles%2F85-llap-lightweight-local-automation-protocol%2F297-llap-reference&ie=UTF-8&aqs=chrome..69i57j69i58.802j0j4&bav=on.2,or.r_cp.&biw=1745&bih=814&dpr=1.1&ech=1&psi=9K7BV7WjE8OUsAHri624CA.1472311030536.3&ei=9K7BV7WjE8OUsAHri624CA&emsg=NCSR&noj=1 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--<base href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference">--><base href="."><style type="text/css">body { margin-left:0;margin-right:0;margin-top:0; }#google-cache-hdr {background:#f5f5f5 !important;font:13px arial,sans-serif !important;text-align:left !important;color:#202020 !important;border:0 !important;margin:0 !important;border-bottom:1px solid #cecece !important;line-height:16px !important ;padding:16px 28px 24px 28px !important;}#google-cache-hdr * {display:inline !important;font:inherit !important;text-align:inherit !important;color:inherit !important;line-height:inherit !important;background:none !important;border:0 !important;margin:0 !important;padding:0 !important;letter-spacing:0 !important;}#google-cache-hdr a {text-decoration:none !important;color:#1a0dab !important;}#google-cache-hdr a:hover { text-decoration:underline !important; }#google-cache-hdr a:visited { color:#609 !important; }#google-cache-hdr div { display:block !important;margin-top:4px !important; }#google-cache-hdr b {font-weight:bold !important;display:inline-block !important;direction:ltr !important;}</style><style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style></head><body><div id="google-cache-hdr" dir="ltr"><div>This is Google's cache of <a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference" dir="ltr">http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference</a>. It is a snapshot of the page as it appeared on Aug 23, 2016 09:50:49 GMT. </div><div>The <a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference" dir="ltr">current page</a> could have changed in the meantime. <a href="http://support.google.com/websearch/bin/answer.py?hl=en&amp;p=cached&amp;answer=1687222">Learn more</a></div><div></div><div><span style="display:inline-block !important;margin-top:8px !important;margin-right:104px !important;white-space:nowrap !important;"><span style="margin-right:28px !important;"><span style="font-weight:bold !important;">Full version</span></span><span style="margin-right:28px !important;"><a href="http://webcache.googleusercontent.com/search?q=cache:http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference&amp;num=1&amp;biw=1745&amp;bih=814&amp;noj=1&amp;strip=1&amp;vwsrc=0">Text-only version</a></span><span style="margin-right:28px !important;"><a href="http://webcache.googleusercontent.com/search?q=cache:http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference&amp;num=1&amp;biw=1745&amp;bih=814&amp;noj=1&amp;strip=0&amp;vwsrc=1">View source</a></span></span><span style="display:inline-block !important;margin-top:8px !important;color:#717171 !important;">Tip: To quickly find your search term on this page, press <b>Ctrl+F</b> or <b>⌘-F</b> (Mac) and use the find bar.</span></div></div><div style="position:relative;">




  <!--<base href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference">--><base href=".">
  
  <meta name="robots" content="index, follow">
  <meta name="keywords" content="">
  <meta name="rights" content="">
  <meta name="language" content="en-GB">
  <meta name="title" content="0 - LLAP Reference">
  <meta name="author" content="Rob">
  <meta name="generator" content="Joomla! 1.6 - Open Source Content Management">
  <title>0 - LLAP Reference</title>
  <script src="./0 - LLAP Reference_files/core.js" type="text/javascript"></script>
  <script src="./0 - LLAP Reference_files/mootools-core.js" type="text/javascript"></script>
  <script src="./0 - LLAP Reference_files/caption.js" type="text/javascript"></script>
  <script src="./0 - LLAP Reference_files/mootools-more.js" type="text/javascript"></script>

<link rel="stylesheet" href="./0 - LLAP Reference_files/system.css" type="text/css">
<link rel="stylesheet" href="./0 - LLAP Reference_files/general.css" type="text/css">
<link rel="stylesheet" href="./0 - LLAP Reference_files/template.css" type="text/css">
<link rel="stylesheet" href="./0 - LLAP Reference_files/grey.css" type="text/css">
<!--[if IE 6]>
<link rel="stylesheet" href="/templates/a4joomla-thirty-three/css/ie6.css" type="text/css" />
<script src="/templates/a4joomla-thirty-three/js/suckerfish.js" type="text/javascript"></script>
<style type="text/css">
img, div, a, input { behavior: url(/templates/a4joomla-thirty-three/iepngfix.htc) }
</style>
<script src="/templates/a4joomla-thirty-three/js/iepngfix_tilebg.js" type="text/javascript"></script>
<![endif]-->
<!--[if lte IE 7]>
<link rel="stylesheet" href="/templates/a4joomla-thirty-three/css/ie67.css" type="text/css" />
<![endif]-->
<script type="text/javascript" src="./0 - LLAP Reference_files/mod_stat.php"></script>
<style type="text/css">
 #header {
    height: 80px;
 }
 #allwrap {
    margin-top:0px;
 }
 #logo {
    width:440px;
    height:80px;
 }
 #logo h2 {
    font-size:52px;
	margin-top:0px;
 }
 #logo h3 {
	margin-top:-10px;
 }
 #banner {
    height: 80px;
 }
 #banner div.moduletable {
	margin-top:10px;
 }
 #headerright {
    width:530px;
    height:80px;
	       background: none;   
     } 
 #search {
   width:170px;
   height:32px;
 }
 
</style>
<!-- <script src="/templates/a4joomla-thirty-three/js/equalize.js" type="text/javascript"></script> -->





<div id="allwrap" class="gainlayout" style="width:1030px;">

<div id="headerwrap" class="gainlayout">
  <div id="header" class="gainlayout">   
      <div id="logo" class="gainlayout">
         		    <a href="http://openmicros.org/"><img src="./0 - LLAP Reference_files/openmicroslogo.png" border="0" alt=""></a>
          
      </div>
	  <div id="headerright" class="gainlayout">
                <div class="clr"></div>
      </div>
      <div class="clr"></div>
  </div>	  
  <div class="clr"></div>
</div>

<div id="topmenuwrap" class="gainlayout">
           <div id="topmenu" class="gainlayout">
           		<div class="moduletable">
					<h3>Top</h3>
					
<ul class="menusfh">
<li id="item-464"><a href="http://openmicros.org/">Home</a></li><li id="item-540"><a href="http://openmicros.org/index.php/documentation">documentation</a></li><li id="item-486"><a href="http://openmicros.org/index.php/component/kunena/?Itemid=0">FORUM</a></li><li id="item-484" class="current active"><a href="http://openmicros.org/index.php/articles">Articles by list</a></li><li id="item-490"><a href="http://openmicros.org/index.php/search">forum search</a></li><li id="item-541"><a href="http://wirelessthings.net/" target="_blank">WirelessThings Shop</a></li></ul>		</div>
	
           <div class="clr"></div>
         </div> 
            <div id="search" class="gainlayout">
          		<div class="moduletable">
					<h3>Search</h3>
					<form action="http://openmicros.org/index.php/articles" method="post">
	<div class="search">
		<label for="mod-search-searchword">Search...</label><input name="searchword" id="mod-search-searchword" maxlength="20" class="inputbox" type="text" size="20" value="Search..." onblur="if (this.value==&#39;&#39;) this.value=&#39;Search...&#39;;" onfocus="if (this.value==&#39;Search...&#39;) this.value=&#39;&#39;;" data-cip-id="mod-search-searchword">	<input type="hidden" name="task" value="search">
	<input type="hidden" name="option" value="com_search">
	<input type="hidden" name="Itemid" value="484">
	</div>
</form>
		</div>
	 
		<div class="clr"></div>  
        </div>
    <div class="clr"></div>
</div> 

<div id="wrap" class="gainlayout">

  	  <div id="pathway" class="gainlayout">
        
<div class="breadcrumbs">
<span class="showHere">You are here: </span><a href="http://openmicros.org/" class="pathway">Home</a> <img src="./0 - LLAP Reference_files/arrow.png" alt=""> <a href="http://openmicros.org/index.php/articles" class="pathway">Articles by list</a> <img src="./0 - LLAP Reference_files/arrow.png" alt=""> <a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol" class="pathway">LLAP - Lightweight Local Automation Protocol</a> <img src="./0 - LLAP Reference_files/arrow.png" alt=""> <span>0 - LLAP Reference</span></div>
<div style="display:none"><a href="http://alevelwriter.com/write_my_philosophy_education_paper.html">write my philosophy education paper</a></div>
<div style="display:none"><a href="http://alevelwriter.com/write_my_philosophy_paper.html">write my philosophy paper</a></div>
<div style="display:none"><a href="http://alevelwriter.com/write_my_psychology_paper.html">write my psychology paper</a></div>

      <div class="clr"></div>
	  </div>
   
    <div id="cbody" class="gainlayout">
    <div id="content60" style="width:988px;">    

	    
      <div id="content" class="gainlayout">
	  
      <div class="item-page">
		<h2>
								<a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference">
						0 - LLAP Reference</a>
						</h2>


		<ul class="actions">
		<li class="print-icon"><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference?tmpl=component&amp;format=pdf" onclick="window.open(this.href,&#39;win2&#39;,&#39;status=no,toolbar=no,scrollbars=yes,titlebar=no,menubar=no,resizable=yes,width=640,height=480,directories=no,location=no&#39;); return false;" title="PDF" rel="nofollow"><img src="./0 - LLAP Reference_files/pdf_button.png" alt="PDF"></a></li>										<li class="print-icon">
						<a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference?tmpl=component&amp;print=1&amp;page=" title="Print" onclick="window.open(this.href,&#39;win2&#39;,&#39;status=no,toolbar=no,scrollbars=yes,titlebar=no,menubar=no,resizable=yes,width=640,height=480,directories=no,location=no&#39;); return false;" rel="nofollow"><img src="./0 - LLAP Reference_files/printButton.png" alt="Print"></a>				</li>
				
								<li class="email-icon">
						<a href="http://openmicros.org/index.php/component/mailto/?tmpl=component&amp;template=a4joomla-thirty-three&amp;link=40f4081603eb7d79831494895368f7528e35f074" title="Email" onclick="window.open(this.href,&#39;win2&#39;,&#39;width=400,height=350,menubar=yes,resizable=yes&#39;); return false;"><img src="./0 - LLAP Reference_files/emailButton.png" alt="Email"></a>				</li>
												</ul>

	
	

 <dl class="article-info">
 <dt class="article-info-term">Details</dt>
		<dd class="category-name">
										Category: <a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol">LLAP - Lightweight Local Automation Protocol</a>						</dd>
		<dd class="modified">
		Last Updated on Thursday, 16 June 2016 09:08		</dd>
	
 </dl>

	
	<h1>LLAP Reference Guide</h1><p>In this document we bring together everything you need to know about LLAP.</p><ol><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#intro">Introduction</a></li><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#use">What is LLAP used for?</a></li><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#where implemented">Where is LLAP implemented?</a></li><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#how does it work">How does LLAP work?</a></li><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#personalities">Personalities</a></li><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#Programming">Programming Gateways or applications for LLAP Personalities </a></li><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#Generic LLAP Messages">Appendix 1: Generic LLAP messages</a></li><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#XRF Personalities">Appendix 2: XRF personalities</a></li><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#Permissible LLAP message characters">Appendix 3: Permissable LLAP message characters</a></li><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#Typing LLAP messages">Appendix 4: Entering LLAP messages into a terminal window</a></li><li><a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#Number of devices supported">Appendix 5: Number of devices supported</a></li></ol><p>&nbsp;</p><h2><a name="intro"></a>Introduction by the inventor</h2><p>LLAP: <a href="http://shop.ciseco.co.uk/llap/">an introduction</a> – LLAP’s inventor, Miles Hodkinson explains why he invented LLAP and why it came out the way it did.</p><p>&nbsp;</p><hr><h2><a name="use"></a>What is LLAP used for?</h2><p>LLAP can be used to convey all sorts of short messages, but in our world, we use it to send short human readable messages between sensors, controllers and actuators in control systems.</p><p style="text-align: center;"><img alt="" src="./0 - LLAP Reference_files/wirelesscontrolsystem.jpg" style="height: 145px; width: 200px;"><img src="./0 - LLAP Reference_files/UsersMAYAAN-1AppDataLocalTempmsohtmlclip1" style="font-size: 11.818181991577148px; line-height: 1.5;"></p><p align="center">&nbsp;</p><p><span style="font-size: 11.818181991577148px; line-height: 1.5;">There are two main types of device:</span></p><ol><li>Devices that are polled for data at regular intervals or sent commands by the controller (similar to MODBUS and the main stay of operation). These devices are normally permanently powered or are continually charged e.g. via solar power or another form of energy harvesting.</li><li>Devices that send data when they have something to send. This further splits in two common types:</li></ol><ul style=""><li style="margin-left: 40px;">Devices that sleep most of the time and occasionally wake up and transmit readings. These are usually cyclic and repeat their behaviour. They are often battery powered; they sleep to conserve energy.</li><li style="margin-left: 40px;">Devices that need to send an alert, e.g. a doorbell, smoke sensor, overflow detection etc. Their behaviour is to report at the moment the action or detection occurred. These can be powered by any means. Some can sleep and wake on an interrupt caused by the external event they are monitoring.</li></ul><p>Any message that conforms to the message format rules defined in this document is considered to be a valid LLAP message. However, for a message to make sense to a recipient, it needs to carry data that the recipient can handle.</p><p>There are several sets of messages:</p><ul><li>Generic messages: all LLAP devices should be able to handle these. They are listed in <a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#Generic LLAP Messages">Appendix 1</a></li><li>Ciseco defined “personalities”: these are specific message sets that only certain LLAP devices can handle. There are pre-defined personalities for light and temperature sensors, relay control, button and Hall Effect sensors, as well as generic analogue to digital conversion and general purpose digital I/O tasks. Today we have these personalities in firmware for the <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a>. We are looking to extend this to the <a href="https://www.wirelessthings.net/srf-wireless-rf-radio-surface-mount">SRF</a> also. See <a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#XRF Personalities">Appendix 2</a> for details of the <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> personalities.</li><li>User defined “personalities”: you can define your own set of messages and use these with your controllers and devices. If you want to use Ciseco radio technology, you will probably choose the <a href="https://www.wirelessthings.net/xinorf-100-arduino-uno-r3-based-dev-board-with-radio-transceiver">XinoRF</a> or the Raspberry Pi as your controller and the <a href="https://www.wirelessthings.net/rf-328-arduino-atmega-328-compatible-radio-transceiver-rfu-328">RFμ328</a> as the base for your sensor or actuator. You will also be able to use our LLAP libraries to make sending and receiving LLAP messages a breeze.</li></ul><p>&nbsp;</p><hr><h2><a name="where implemented"></a>Where is LLAP implemented?</h2><p>LLAP messages are simple text messages and completely independent from the underlying infrastructure and transmission media used to convey the messages. That means that LLAP can be used anywhere you can exchange text.</p><p>In particular, a user can type in a LLAP message in a terminal window on a Windows, Linux or Mac based computer, or on a Raspberry Pi for instance and receive a response from devices in a Ciseco device network to which that computer is connected.<br>
Note: The only proviso when working with Ciseco radios is that you type fast enough to make sure the LLAP message is sent in one data packet. Cut and paste is usually the best approach.</p><p>Ciseco have freely available software that uses the LLAP message format for communications:</p><ul><li>Firmware for the<a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped"> XRF</a> that implements a number of sensors and actuators. We refer to this firmware as “personalities”. Since all <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRFs</a> ship with serial pass-through firmware, customers will need to load an <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> that is to be configured as a specific sensor or actuator with the appropriate firmware using XCM. See the section on personalities for details.</li><li>Example software for our Arduino based <a href="https://www.wirelessthings.net/srf-wireless-rf-radio-surface-mount">SRF</a> units (<a href="https://www.wirelessthings.net/xinorf-100-arduino-uno-r3-based-dev-board-with-radio-transceiver">XinoRF</a> and <a href="https://www.wirelessthings.net/rf-328-arduino-atmega-328-compatible-radio-transceiver-rfu-328">RFμ328</a>) to emulate <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> personalities for sensors and actuators.</li><li>An Arduino LLAP library makes it very easy for customers to write their own sensor or actuator software and to define their own messages as appropriate.</li><li>A Python LLAP library is under construction too and is the best base for development of LLAP software on the Raspberry Pi for instance.</li></ul><p>&nbsp;</p><hr><h2><a name="how does it work"></a>How does LLAP work?</h2><p>It is assumed that messages either arrive completely and without errors or don’t arrive at all. The communication infrastructure should provide for message integrity (e.g. via CRC) and messages that get corrupted must be intentionally lost by the infrastructure. Ciseco radios have this property.</p><p>When you send a message, you should not expect any acknowledgement from the communications infrastructure as to whether it was sent or not. The only way to know if a message was received is by the recipient sending you a response LLAP message.</p><h3>Message format</h3><p>Each message is exactly 12 characters long and in three distinct sections:</p><ul><li>One start byte</li><li>Two bytes for the device identifier</li><li>Nine data bytes, padded by dashes if necessary.</li></ul><p>&lt;SB&gt; &lt;ID&gt; &lt;ID&gt; &lt;D&gt; &lt;D&gt; &lt;D&gt; &lt;D&gt; &lt;D&gt; &lt;D&gt; &lt;D&gt; &lt;D&gt; &lt;D&gt;</p><p>See <a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/297-llap-reference#Permissible LLAP message characters">Appendix 3</a> for details of the permissable characters in each field.</p><p><span style="font-family: Arial, Verdana, Helvetica, sans-serif; font-size: 1.15em; font-weight: bold; line-height: 1.5;">Address range</span></p><p>With two ID bytes that can each assume 30 different values, it is possible to address 900 individual devices. Excluding the special characters, the range extends to 26 X 26 = 676 devices.</p><p>Ciseco radio devices each operate with a specific PANID. Each PANID defines a subnet, within which 676 or 900 devices are addressable. The usable PANIDs run from 0000 (hex) to EFFF (hex), or 61,439 subnets.</p><p>In a single location, it is thus possible to host 41.5 million devices.</p><h3>Device start-up</h3><p>A new “out of the box” device is pre-assigned the generic ID of&nbsp;<strong>--</strong>&nbsp;(dash dash). When it is powered up it sends</p><p style="margin-left: 40px;"><strong>a--STARTED—</strong></p><p>When a controller hears this, it should reply with</p><p style="margin-left: 40px;"><strong>a--ACK------</strong></p><p>If no response is heard then a further 5 attempts (retries) are made, again in the same format.</p><p style="margin-left: 40px;"><strong>a--STARTED—</strong></p><p style="margin-left: 40px;"><strong>a--STARTED—</strong></p><p style="margin-left: 40px;"><strong>a--STARTED—</strong></p><p style="margin-left: 40px;"><strong>a--STARTED—</strong></p><p style="margin-left: 40px;"><strong>a--STARTED—</strong></p><p>The device now assumes normal operation on the ID of –</p><h3>Address allocation</h3><p>Assuming the controller did hear the device it begins by allocating it a unique address. The controller will send out</p><p style="margin-left: 40px;"><strong>a—CHDEVIDXX</strong></p><p>where XX represents the ID to allocate to the device. The device responds to this by echoing the command</p><p style="margin-left: 40px;"><strong>a—CHDEVIDXX</strong></p><p>The controller then requests the device to restart thus applying the new ID&nbsp;</p><p style="margin-left: 40px;"><strong>&nbsp;a--REBOOT---</strong></p><p>The device then resets and starts up by announcing</p><p style="margin-left: 40px;"><strong>aXXSTARTED--</strong></p><p>This is repeated at 193mS intervals for an additional 5 times unless the controller replies with&nbsp;</p><p style="margin-left: 40px;"><strong>aXXACK------</strong></p><p>This startup message now happens every time that the device is reset or powered up and acts to inform the controller that the device is available.</p><h3>Request/response pairs</h3><p>Commands from the controller, are acknowledged by the device by one of two methods. Either repeating the command (simple acknowledgment of receipt) or replying with the data requested. The response “should” be sent back within 0.1 second (100ms). If no receipt message is received then further requests can be sent. The number of retries is normally 5, however this can be changed within the controller or the device.</p><p>Examples:</p><p>When a controller requires a device to reboot, it sends:</p><p style="margin-left: 40px;"><strong>aXXREBOOT---</strong></p><p>The device sends back a similar message to acknowledge receipt.</p><p style="margin-left: 40px;"><strong>aXXREBOOT---</strong></p><p>&nbsp;It then carries out the command (to reboot in this case).</p><p>A controller may request the version number of the firmware on device with address XX by sending:</p><p style="margin-left: 40px;"><strong>aXXAPVER----</strong></p><p>The device then sends back the requested information:</p><p style="margin-left: 40px;"><strong>aXXAPVER1.01</strong></p><p>where 1.01 is the version number.</p><h3>Announcements</h3><p>Some messages are simple announcements and do not require a response.</p><p>Example:</p><p>When a device starts (is powered up, or reset), it should send out an announcement to say it is available:</p><p style="margin-left: 40px;"><strong>aXXSTARTED—</strong></p><p>A battery powered device will report that its battery is low:</p><p style="margin-left: 40px;"><strong>aXXBATTLOW--</strong></p><p>&nbsp;</p><hr><h2><a name="personalities"></a>Personalities</h2><p>A device with a LLAP personality is capable of generating and responding to the set of messages that are defined for that personality.</p><p>There are two types of personality:</p><ul style=""><li>Ciseco defined personalities are available as firmware that a user can load onto an <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> to make that <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> into a temperature sensor, an actuator for relays, etc.</li><li>User defined personalities are defined by third parties to create their own specific sensors and actuators.</li></ul><p>&nbsp;</p><h3>Ciseco defined personalities</h3><p>Ciseco provide a range of sensor and actuator personalities. Each is encapsulated in firmware that needs to be written to the radio device to give your radio unit a specific predefined function.</p><table border="1" cellpadding="0" cellspacing="0" style="width: 694px;"><tbody><tr><td style="width: 139px;"><p><strong>Personality</strong></p></td><td style="width: 92px;"><p align="center"><strong>Type</strong></p></td><td style="width: 73px;"><p align="center"><strong>XRF</strong></p></td><td style="width: 51px;"><p align="center"><strong>SRF</strong></p></td><td style="width: 92px;"><p align="center"><strong>XinoRF /<br>
RFμ328</strong></p></td><td style="width: 243px;"><p><strong>Comments</strong></p></td></tr><tr><td style="width: 139px;"><p>Temp. thermistor</p></td><td style="width: 92px;"><p align="center">Sensor</p></td><td style="width: 73px;"><p align="center">Y</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">Beta</p></td><td style="width: 243px;"><p>Single thermistor sensor</p></td></tr><tr><td style="width: 139px;"><p>Temp. &nbsp;Dallas</p></td><td style="width: 92px;"><p align="center">Sensor</p></td><td style="width: 73px;"><p align="center">Y</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">N</p></td><td style="width: 243px;"><p>Single Dallas DS18B20 sensor input</p></td></tr><tr><td style="width: 139px;"><p>Button / Hall Effect</p></td><td style="width: 92px;"><p align="center">Sensor</p></td><td style="width: 73px;"><p align="center">Y</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">Beta</p></td><td style="width: 243px;"><p>Two button and one Hall Effect input</p></td></tr><tr><td style="width: 139px;"><p>Analog</p></td><td style="width: 92px;"><p align="center">Sensor</p></td><td style="width: 73px;"><p align="center">Y</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">N</p></td><td style="width: 243px;"><p>Single channel analogue input</p></td></tr><tr><td style="width: 139px;"><p>Light</p></td><td style="width: 92px;"><p align="center">Sensor</p></td><td style="width: 73px;"><p align="center">Y</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">Beta</p></td><td style="width: 243px;"><p>Single LDR sensor</p></td></tr><tr><td style="width: 139px;"><p>Generic I/O</p></td><td style="width: 92px;"><p align="center">Sensor / Actuator</p></td><td style="width: 73px;"><p align="center">Y</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">N</p></td><td style="width: 243px;"><p>Three digital outputs, four digital and three analogue inputs</p></td></tr><tr><td style="width: 139px;"><p>Relay</p></td><td style="width: 92px;"><p align="center">Actuator</p></td><td style="width: 73px;"><p align="center">Y</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">N</p></td><td style="width: 243px;"><p>Dual relay on/off/toggle</p></td></tr><tr><td style="width: 139px;"><p>RGB encoder</p></td><td style="width: 92px;"><p align="center">Actuator</p></td><td style="width: 73px;"><p align="center">Y</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">N</p></td><td style="width: 243px;"><p>&nbsp;</p></td></tr><tr><td style="width: 139px;"><p>Count</p></td><td style="width: 92px;"><p align="center">Sensor</p></td><td style="width: 73px;"><p align="center">Beta</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">N</p></td><td style="width: 243px;"><p>&nbsp;</p></td></tr><tr><td style="width: 139px;"><p>Tacho</p></td><td style="width: 92px;"><p align="center">Sensor</p></td><td style="width: 73px;"><p align="center">Beta</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">N</p></td><td style="width: 243px;"><p>&nbsp;</p></td></tr><tr><td style="width: 139px;"><p>Ultrasonic</p></td><td style="width: 92px;"><p align="center">Sensor</p></td><td style="width: 73px;"><p align="center">Beta</p></td><td style="width: 51px;"><p align="center">N</p></td><td style="width: 92px;"><p align="center">N</p></td><td style="width: 243px;"><p>&nbsp;</p></td></tr></tbody></table><p>&nbsp;</p><h4>Personalities for the XRF</h4><p>The personalities for the <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> assume the LLAP device <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> pin-out described here: <a href="http://openmicros.org/index.php/articles/87-llap-lightweight-local-automation-protocol/llap-devices-commands-and-instructions/190-llap-device-xrf-pinout">http://openmicros.org/index.php/articles/87-llap-lightweight-local-automation-protocol/llap-devices-commands-and-instructions/190-llap-device-xrf-pinout</a></p><p>The firmware for these personalities is available on github (<a href="https://github.com/CisecoPlc/XRF-Firmware-downloads">https://github.com/CisecoPlc/XRF-Firmware-downloads</a>).</p><p>All you need to do is select the function required, buy the appropriate sensor or actuator and combine it with an <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a>, perhaps conveniently using one of our boards. Using the <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> Configuration Manager (XCM) software you then program the<a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped"> XRF</a> with the chosen personality and you are done.</p><p>Instructions on how to update the firmware on an <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> are available here: <a href="http://openmicros.org/index.php/articles/84-xrf-basics/111-firmware-updating-how-to" target="_blank">http://openmicros.org/index.php/articles/84-xrf-basics/111-firmware-updating-how-to</a></p><p>(This doc needs to be updated with the Explorer Plus method of firmware upload).</p><p>LLAP commands for Ciseco radio personalities must be issued over the air not via the Serial</p><h4>Personalities for the SRF</h4><p>Personalities for the <a href="https://www.wirelessthings.net/srf-wireless-rf-radio-surface-mount">SRF</a> are pending demand from our users. Most of the<a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped"> XRF</a> personalities will also work on the <a href="https://www.wirelessthings.net/srf-wireless-rf-radio-surface-mount">SRF</a>, but since the <a href="https://www.wirelessthings.net/srf-wireless-rf-radio-surface-mount">SRF</a> does not have exactly the same pin-out as the<a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped"> XRF</a>, some parts may not work as expected. We currently do not support ruuning LLAP personalities on<a href="https://www.wirelessthings.net/srf-wireless-rf-radio-surface-mount"> SRF's</a>, try it ar your own risk.</p><h3>Creating your own sensor / actuator personality</h3><p>Any developer worth their salt wants to make sensors and actuators do something a bit different from the pre-defined Ciseco provided personalities. So we got loads of requests for customisation, which we found hard to respond to (due to the volume in demand).</p><p>Allowing anyone to create their favourite sensor personality and allowing these to be uploaded to the <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> proved too painful. Programming the CC111x chip is a professional job and the increased chances of end user software interfering with the correct operation of the radio would mean our products would soon be seen as unreliable.</p><p>We needed a solution which allows you to program the personality yourself without compromising the reliability of the radio. Our solution is to add a separate end-user programmable processor to our radio unit in serial pass-through mode. This combination is now available in two form factors:</p><ul><li><a href="https://www.wirelessthings.net/rf-328-arduino-atmega-328-compatible-radio-transceiver-rfu-328">RFμ-328</a> combines an Arduino 328 with our <a href="https://www.wirelessthings.net/srf-wireless-rf-radio-surface-mount">SRF</a> on the same Xbee form factor that is used by the <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a></li><li><a href="https://www.wirelessthings.net/xinorf-100-arduino-uno-r3-based-dev-board-with-radio-transceiver">XinoRF</a> places our <a href="https://www.wirelessthings.net/srf-wireless-rf-radio-surface-mount">SRF</a> on an Arduino Uno compatible board</li></ul><p><a href="https://www.wirelessthings.net/rf-328-arduino-atmega-328-compatible-radio-transceiver-rfu-328">RFμ-328</a> is ideal for low power deployment scenarios, whereas XinoRF is more suitable for development. Both units are software compatible, so software developed on one can be run without change on the other.</p><p>We are developing the sketches to cover the personalities we have for the <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a>. They will be placed on github as they become available.</p><p>The Arduino LLAP library (<a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/266-arduino-llap-library-for-user-devices">http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/266-arduino-llap-library-for-user-devices</a>) is the base against which we develop these. We recommend users who wish to code their own Arduino based sensors, actuators and controllers, to use this library also.</p><hr><h2><a name="Programming"></a>Programming Gateways or applications for LLAP Personalities&nbsp;</h2><p>At some point many users want to develop some application or gateway to talk to our <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> Personalities.</p><p><br>
Before writing any code we recommend that you try out you LLAP commands first using your favourite serial terminal program.&nbsp;This way you see what messages you need to send an what messages you might receive in reply.</p><p>&nbsp;</p><hr><h2><a name="Generic LLAP Messages"></a>Appendix 1: Generic LLAP messages</h2><p>LLAP devices should be able to handle messages from the set of generic messages defined in this section.</p><p>&nbsp;</p><h3>Message request/response pairs</h3><p><strong>APVER</strong>&nbsp;– Request the LLAP version</p><p style="margin-left:36.0pt;">aXXAPVER----<br>
Requests the supported&nbsp;LLAP version number – response from the device is aXXAPVER9.99 where 9.99 is the version number. The current version at present is 1.0</p><p>&nbsp;</p><p><strong>BATT</strong>&nbsp;- Request battery level in Volts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p style="margin-left:36.0pt;">aXXBATT----- will reply aXXBATT3.43- (3.43V)</p><p style="margin-left:36.0pt;">&nbsp;</p><p><strong>CHDEVID</strong>&nbsp;– Change device ID</p><p style="margin-left:36.0pt;">aXXCHDEVIDDD<br>
Request that the device change its device ID to DD. The change will only take place when the device is rebooted.<br>
&nbsp;</p><p><strong>CYCLE</strong>&nbsp;– Start cyclic mode (only applies to cyclic sleeping devices)&nbsp;</p><p style="margin-left:36.0pt;">aXXCYCLE---<br>
Request that the device starts a cyclic sleep – the device should sleep for the sleep interval, awaken and send any reading. The device wiull then go back to sleep. Every (default 10) times it will send aXXAWAKE---- aXXBATTv.vv- wait for 100mS incase there is a command for the unit and then send aXXSLEEPING-. This is configurable by using aXXWAKECnnn- whenre nnn is the count of transmits before it will wake and send the battery reading.</p><p style="margin-left:36.0pt;">&nbsp;</p><p><strong>DEVNAME</strong>&nbsp;– Request the manufacturer device name</p><p style="margin-left:36.0pt;">aXXDEVNAME--<br>
Request the device name. Response is a nine character “friendly” name.<br>
&nbsp;</p><p><strong>DEVTYPE</strong>&nbsp;– Request the device type</p><p style="margin-left:36.0pt;">aXXDEVTYPE--<br>
Request the device type. Response is a nine character device type e.g. aXXU00000001 Device types beginning with U are reserved for users to assign to their own prototype devices. All other device types will be kept on a register by CISECO Plc., that can be used to update hubs on a regular basis. In APVER 1.1 this will change to a eight character field e.g. aXXU0000001-</p><p>&nbsp;</p><p><strong>FVER</strong>&nbsp;– Request the manufacturer firmware version</p><p style="margin-left:36.0pt;">aXXFVER-----<br>
Request the device firmware version. Response is aXXFVER9.99- e.g. aXXFVER0.32-</p><p>&nbsp;</p><p><strong>HELLO</strong>&nbsp;– Request the device to acknowledge it’s there.</p><p style="margin-left:36.0pt;">aXXHELLO----<br>
Request the device to confirm it is receiving, response is<br>
aXXHELLO----<br>
&nbsp;</p><p><strong>INTVL</strong>&nbsp;– Sets the sleep interval between “activities" (only applies to cyclic sleeping devices)</p><p style="margin-left:36.0pt;">XXINTVL999P<br>
Set the cyclic sleep interval to 999 “periods”<br>
Periods can be S(seconds), M(minutes), H(hours), D(days)</p><p>&nbsp;</p><p><strong>PANID</strong>&nbsp;– Change PANID</p><p style="margin-left:36.0pt;">aXXPANIDFFFF<br>
Requests that the device change its PANID to FFFF(the id of the channel the device listens to). PANID is a four character hexadecimal number on XRF or XBee wireless networks. All devices within the same PANID can communicate with each other. The change will only take place when the device is rebooted via a REBOOT command..</p><p>&nbsp;</p><p><strong>REBOOT</strong>&nbsp;– Force a restart</p><p style="margin-left:36.0pt;">aXXREBOOT---<br>
Request that the device reset itself.</p><p style="margin-left:36.0pt;">&nbsp;</p><p><strong>RETRIES</strong>&nbsp;– Set the amount of messages to retry to get an ACK from the hub</p><p style="margin-left:36.0pt;">aXXRETRIESRR<br>
Set the amount of retries that uninitiated “sends” should try before giving up, default is 5 (number can be 00-99) this is set by RR</p><p style="margin-left:36.0pt;">&nbsp;</p><p><strong>SER</strong>&nbsp;– Request the manufacturer serial number</p><p style="margin-left:36.0pt;">aXXSER------<br>
Request the device serial number, response is a 6 character serial number, e.g. aXXSER000001<br>
&nbsp;</p><p><strong>SLEEP&nbsp;</strong>– Requests the device go into low power mode (only applies to sleeping devices)</p><p style="margin-left:36.0pt;">aXXSLEEP999P<br>
Request that the device sleep for 999 “periods”, the response echos the command, the device will then send the notification aXXSLEEPING- when going to sleep, and the announcement aXXAWAKE---- when the device reawakens. Periods can be S(seconds), M(minutes), H(hours), D(days) T(milliseconds)</p><p style="margin-left:36.0pt;">aXXSLEEP---- (only applies to interrupt sleeping devices) . Sleep until an interrupt is received. Only the Button firmware behaves like this at present.<br>
Every (default 10) times it will send aXXAWAKE---- aXXBATTv.vv- wait for 100mS incase there is a command for the unit and then send aXXSLEEPING-. This is configurable by using aXXWAKECnnn- whenre nnn is the count of transmits before it will wake and send the battery reading.</p><p>&nbsp;</p><h3>Device related announcements</h3><p>&nbsp;</p><p><strong>AWAKE</strong>&nbsp;– Device has re awoken (only applies to devices that support sleep)</p><p style="margin-left:36.0pt;">aXXAWAKE---- &nbsp;Device is now awake, &lt;Possible addition: if the device is a cyclic sleep device then the device should now remain awake for at least 100mS listening for hub requests. Such a device does not need to announce that it is awake at each cycle, but is expected to do so at least every 5 minutes.</p><p>&nbsp;</p><p><strong>BATTLOW</strong>&nbsp;- Device battery is low (only applies to battery powered devices)</p><p style="margin-left:36.0pt;">aXXBATTLOW--</p><p style="margin-left:36.0pt;">&nbsp;</p><p><strong>ERROR</strong></p><p style="margin-left:36.0pt;">aXXERRORnnnn - This is to notify that something unexpected happened at the device and that should be investigated. The nnnn can be used by the manufacturer to denote what type of error occurred.</p><p>&nbsp;</p><p><strong>SLEEPING</strong>- Device is going to sleep (only applies to devices that support sleep)</p><p style="margin-left:36.0pt;">aXXSLEEPING-</p><p>&nbsp;</p><p><strong>STARTED</strong></p><p style="margin-left:36.0pt;">aXXSTARTED-- This is to notify the hub that a device has just started. The hub can then add the device back into the list of active devices.</p><p>&nbsp;</p><hr><h2><a name="XRF Personalities"></a>Appendix 2: XRF personalities</h2><p>The following <a href="https://www.wirelessthings.net/xrf-wireless-rf-radio-uart-serial-data-module-xbee-shaped">XRF</a> personalities are available:</p><p><a href="http://openmicros.org/index.php/articles/87-llap-lightweight-local-automation-protocol/llap-devices-commands-and-instructions/189-xrf-firmware-analog">XRF Firmware - Analog</a></p><p><a href="http://openmicros.org/index.php/articles/87-llap-lightweight-local-automation-protocol/llap-devices-commands-and-instructions/121-xrf-firmware-button">XRF Firmware - Button &amp; Hall Effect</a></p><p><a href="http://openmicros.org/index.php/articles/87-llap-lightweight-local-automation-protocol/llap-devices-commands-and-instructions/120-xrf-firmware-relay">XRF Firmware - Dual relay</a></p><p><a href="http://openmicros.org/index.php/articles/87-llap-lightweight-local-automation-protocol/llap-devices-commands-and-instructions/119-xrf-firmware-generic-io">XRF firmware - Generic IO</a></p><p><a href="http://openmicros.org/index.php/articles/87-llap-lightweight-local-automation-protocol/llap-devices-commands-and-instructions/195-xrf-firmware-ldr" style="font-size: 11.818181991577148px; text-decoration: underline; font-weight: bold;">XRF Firmware - LDR</a></p><p><a href="http://openmicros.org/index.php/articles/87-llap-lightweight-local-automation-protocol/llap-devices-commands-and-instructions/194-xrf-firmware-temperature-dallas" style="font-size: 11.818181991577148px; text-decoration: underline;">XRF Firmware - Temperature: Dallas</a></p><p><a href="http://openmicros.org/index.php/articles/87-llap-lightweight-local-automation-protocol/llap-devices-commands-and-instructions/122-xrf-firmware-temp" style="font-size: 11.818181991577148px;">XRF Firmware - Temperature: Thermistor</a></p><p>&nbsp;</p><hr><h2><a name="Permissible LLAP message characters"></a>Appendix 3: Permissable LLAP Message Characters</h2><h2>&nbsp;</h2><p>These are the characters available for use in each byte.</p><table border="0" cellpadding="0" cellspacing="0" style="width: 495px;" width="495"><tbody><tr><td style="width:49px;"><p>Start</p></td><td style="width:49px;"><p>ID</p></td><td style="width:49px;"><p>ID</p></td><td style="width:49px;"><p>Data1</p></td><td style="width:49px;"><p>Data2</p></td><td style="width:49px;"><p>Data3</p></td><td style="width:49px;"><p>Data4</p></td><td style="width:49px;"><p>Data5</p></td><td style="width:49px;"><p>Data6</p></td><td style="width:49px;"><p>Data7</p></td><td style="width:49px;"><p>Data8</p></td><td style="width:49px;"><p>Data9</p></td></tr><tr><td style="width:49px;"><p>&nbsp;a</p></td><td style="width:49px;"><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>-</p><p>#</p><p>@</p><p>?</p><p>\</p><p>*</p></td><td style="width:49px;"><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>-</p><p>#</p><p>@</p><p>?</p><p>\</p><p>*</p></td><td style="width:49px;"><p>[space]</p><p>!</p><p>"</p><p>#</p><p>$</p><p>%</p><p>&amp;</p><p>'</p><p>(</p><p>)</p><p>*</p><p>+</p><p>,</p><p>-</p><p>.</p><p>/</p><p>0</p><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>:</p><p>;</p><p>&lt;&nbsp;</p><p>=</p><p>&gt;&nbsp;</p><p>?</p><p>@</p><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>[</p><p>\</p><p>]</p><p>^</p><p>_</p></td><td style="width:49px;"><p>[space]</p><p>!</p><p>"</p><p>#</p><p>$</p><p>%</p><p>&amp;</p><p>'</p><p>(</p><p>)</p><p>*</p><p>+</p><p>,</p><p>-</p><p>.</p><p>/</p><p>0</p><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>:</p><p>;</p><p>&lt;&nbsp;</p><p>=</p><p>&gt;&nbsp;</p><p>?</p><p>@</p><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>[</p><p>\</p><p>]</p><p>^</p><p>_</p></td><td style="width:49px;"><p>[space]</p><p>!</p><p>"</p><p>#</p><p>$</p><p>%</p><p>&amp;</p><p>'</p><p>(</p><p>)</p><p>*</p><p>+</p><p>,</p><p>-</p><p>.</p><p>/</p><p>0</p><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>:</p><p>;</p><p>&lt;&nbsp;</p><p>=</p><p>&gt;&nbsp;</p><p>?</p><p>@</p><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>[</p><p>\</p><p>]</p><p>^</p><p>_</p></td><td style="width:49px;"><p>[space]</p><p>!</p><p>"</p><p>#</p><p>$</p><p>%</p><p>&amp;</p><p>'</p><p>(</p><p>)</p><p>*</p><p>+</p><p>,</p><p>-</p><p>.</p><p>/</p><p>0</p><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>:</p><p>;</p><p>&lt;&nbsp;</p><p>=</p><p>&gt;&nbsp;</p><p>?</p><p>@</p><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>[</p><p>\</p><p>]</p><p>^</p><p>_</p></td><td style="width:49px;"><p>[space]</p><p>!</p><p>"</p><p>#</p><p>$</p><p>%</p><p>&amp;</p><p>'</p><p>(</p><p>)</p><p>*</p><p>+</p><p>,</p><p>-</p><p>.</p><p>/</p><p>0</p><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>:</p><p>;</p><p>&lt;&nbsp;</p><p>=</p><p>&gt;&nbsp;</p><p>?</p><p>@</p><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>[</p><p>\</p><p>]</p><p>^</p><p>_</p></td><td style="width:49px;"><p>[space]</p><p>!</p><p>"</p><p>#</p><p>$</p><p>%</p><p>&amp;</p><p>'</p><p>(</p><p>)</p><p>*</p><p>+</p><p>,</p><p>-</p><p>.</p><p>/</p><p>0</p><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>:</p><p>;</p><p>&lt;&nbsp;</p><p>=</p><p>&gt;&nbsp;</p><p>?</p><p>@</p><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>[</p><p>\</p><p>]</p><p>^</p><p>_</p></td><td style="width:49px;"><p>[space]</p><p>!</p><p>"</p><p>#</p><p>$</p><p>%</p><p>&amp;</p><p>'</p><p>(</p><p>)</p><p>*</p><p>+</p><p>,</p><p>-</p><p>.</p><p>/</p><p>0</p><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>:</p><p>;</p><p>&lt;&nbsp;</p><p>=</p><p>&gt;&nbsp;</p><p>?</p><p>@</p><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>[</p><p>\</p><p>]</p><p>^</p><p>_</p></td><td style="width:49px;"><p>[space]</p><p>!</p><p>"</p><p>#</p><p>$</p><p>%</p><p>&amp;</p><p>'</p><p>(</p><p>)</p><p>*</p><p>+</p><p>,</p><p>-</p><p>.</p><p>/</p><p>0</p><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>:</p><p>;</p><p>&lt;&nbsp;</p><p>=</p><p>&gt;&nbsp;</p><p>?</p><p>@</p><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>[</p><p>\</p><p>]</p><p>^</p><p>_</p></td><td style="width:49px;"><p>[space]</p><p>!</p><p>"</p><p>#</p><p>$</p><p>%</p><p>&amp;</p><p>'</p><p>(</p><p>)</p><p>*</p><p>+</p><p>,</p><p>-</p><p>.</p><p>/</p><p>0</p><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>:</p><p>;</p><p>&lt;&nbsp;</p><p>=</p><p>&gt;&nbsp;</p><p>?</p><p>@</p><p>A</p><p>B</p><p>C</p><p>D</p><p>E</p><p>F</p><p>G</p><p>H</p><p>I</p><p>J</p><p>K</p><p>L</p><p>M</p><p>N</p><p>O</p><p>P</p><p>Q</p><p>R</p><p>S</p><p>T</p><p>U</p><p>V</p><p>W</p><p>X</p><p>Y</p><p>Z</p><p>[</p><p>\</p><p>]</p><p>^</p><p>_</p><div>&nbsp;</div></td></tr></tbody></table><p>&nbsp;</p><h2><a name="Typing LLAP messages"></a>Entering LLAP commands via a terminal window</h2><p>LLAP commands must be sent in one radio packet. The best way to achieve this is to enter a command into a text editor and then copy/paste into the terminal window. Typing is too slow as the radio will send the packet as soon as the ATRO timeout has occured - this is usually set to 16mS.. Using XCM the commands can can be entered into the text bar and then the send button can be pressed.</p><h2><a name="Number of devices supported"></a>Number of devices supported</h2><p>Our two byte LLAP ID of AA-ZZ allows for 676 combinations.<br>
<br>
This can be overlaid by splitting traffic into different networks using the PAIND setting<br>
The PAINID is a 32bit number and can be set using four hexadecimal characters in the range 0000 – EFFF. Values between F000 – FFFF are reserved (4096 networks).<br>
Thats a total of 61440 networks.<br>
<br>
61440 networks * 676 devices = 41,533,440 devices<br>
<br>
<br>
<br>
<br>
&nbsp;</p> 
				<ul class="pagenav">
					<li class="pagenav-next">
						<a href="http://openmicros.org/index.php/articles/85-llap-lightweight-local-automation-protocol/266-arduino-llap-library-for-user-devices" rel="prev">Next &gt;</a>
					</li>
				</ul>
	</div> 
      </div> 
          
  </div>
      <div class="clr"></div>
  </div>
   
  
<!--end of wrap-->
</div>
    
<!--end of allwrap-->
</div>
<div id="footerwrap" class="gainlayout" style="width:1030px;"> 
  <div id="footer" class="gainlayout">  
         </div>
   
</div>



</div></body></html>